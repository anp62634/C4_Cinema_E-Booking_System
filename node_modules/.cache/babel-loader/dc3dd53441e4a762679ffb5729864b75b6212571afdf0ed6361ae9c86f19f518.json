{"ast":null,"code":"import _slicedToArray from\"/Users/aliciapitts/Desktop/C4_Cinema_E-Booking_System/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import AdminNavBar from'./Components/Admin/AdminNavBar';import'./style.css';import{Button,Paper}from'@mui/material';/*const PROMOS =[\n    {\n        id: 0,\n        name: \"Spring Discount\",\n        discount: 20,\n        code: \"SPRING2023\",\n        status: 0\n    }\n];*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ManagePromotions(){//const[promotion, setPromotion]=useState('');\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),discount=_useState4[0],setDiscount=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),promoCode=_useState6[0],setPromoCode=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),promos=_useState8[0],setPromos=_useState8[1];//const handlePromo = (event) => {\n//    setSelectPromo(event.target.value);\n//}\nvar handleClick=function handleClick(e){e.preventDefault();var promotion={name:name,discount:discount,promoCode:promoCode};console.log(promotion);fetch(\"http://localhost:8080/promotion/add\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(promotion)}).then(function(){console.log(\"New Promotion Added\");});};useEffect(function(){fetch(\"http://localhost:8080/promotion/getAll\").then(function(res){return res.json();}).then(function(result){setPromos(result);});},[]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(AdminNavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"manage-promos\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-view\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"promo-options\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Current Promotions\"}),promos.map(function(promotion){return/*#__PURE__*/_jsxs(Paper,{elevation:6,style:{margin:\"10px\",textAlign:\"left\"},children:[\"Name: \",promotion.name,\", Discount: \",promotion.discount,\", Promo: \",promotion.promoCode]},promotion.promoID);}),/*#__PURE__*/_jsx(\"button\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-view\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"promo-options\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add a Promotion\"}),/*#__PURE__*/_jsx(\"div\",{className:\"add-promo\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Promo Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Promo Name\",value:name,onChange:function onChange(e){return setName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"discount\",children:\"Promo Discount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"1\",step:\"0.01\",name:\"discount\",placeholder:\"e.g 0.25\",value:discount,onChange:function onChange(e){return setDiscount(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"code\",children:\"Promo Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"promoCode\",placeholder:\"PROMOCODE\",value:promoCode,onChange:function onChange(e){return setPromoCode(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:handleClick,children:\"Submit\"})]})})]})})]})]});}/*\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Name</th>\n                                    <th>Amount</th>\n                                    <th>Code</th>\n                                    <th>Status</th>\n                                    <th>Options</th>\n                                    </tr>\n                                    </thead>\n                                    {selectPromos.map(selectPromo=>\n                                    <tr key={selectPromo.promoID}>\n                                        <th>{selectPromo.name}</th>\n                                        <th>{selectPromo.discount}</th>\n                                        <th>{selectPromo.promoCode}</th>\n                                        {selectPromo.status === 0 && (\n                                        <th>Not Sent</th>\n                                        )}\n                                        {selectPromo.status === 1 && (\n                                        <th>Sent</th>\n                                        )\n                                        <th><button>Edit</button><button>Delete</button></th>\n                                    </tr>                                \n                                    )}    \n                                </table> \n\n*/","map":{"version":3,"names":["React","useEffect","useState","AdminNavBar","Button","Paper","ManagePromotions","name","setName","discount","setDiscount","promoCode","setPromoCode","promos","setPromos","handleClick","e","preventDefault","promotion","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","result","map","margin","textAlign","promoID","target","value"],"sources":["/Users/aliciapitts/Desktop/C4_Cinema_E-Booking_System/src/ManagePromotions.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport AdminNavBar from './Components/Admin/AdminNavBar';\nimport './style.css';\nimport { Button, Paper } from '@mui/material';\n\n/*const PROMOS =[\n    {\n        id: 0,\n        name: \"Spring Discount\",\n        discount: 20,\n        code: \"SPRING2023\",\n        status: 0\n    }\n];*/\n\nexport default function ManagePromotions() {\n\n    //const[promotion, setPromotion]=useState('');\n    const[name, setName]=useState('');\n    const[discount, setDiscount]=useState('');\n    const[promoCode, setPromoCode]=useState('');\n    const[promos, setPromos]=useState([]);\n\n    //const handlePromo = (event) => {\n    //    setSelectPromo(event.target.value);\n    //}\n\n    const handleClick=(e)=>{\n            e.preventDefault()\n            const promotion={name, discount, promoCode}\n            console.log(promotion)\n            fetch(\"http://localhost:8080/promotion/add\", {\n                method:\"POST\",\n                headers:{\"Content-Type\":\"application/json\"},\n                body:JSON.stringify(promotion)\n            }).then(()=>{\n                console.log(\"New Promotion Added\")\n            })\n\n        }\n\n    useEffect(()=>{\n        fetch(\"http://localhost:8080/promotion/getAll\")\n        .then(res=>res.json())\n        .then((result)=>{\n            setPromos(result);\n        })\n    },[])\n\n    return (\n        <React.Fragment>\n            {/* Admin Nav Bar */}\n            <AdminNavBar/>\n            <div className=\"manage-promos\">\n                <div className=\"admin-view\">\n                    <div className=\"promo-options\">\n                        <h1>Current Promotions</h1>\n                        {promos.map(promotion=>(\n                            <Paper elevation={6} style={{margin:\"10px\", textAlign:\"left\"}} key={promotion.promoID}>\n                                Name: {promotion.name},\n                                Discount: {promotion.discount},\n                                Promo: {promotion.promoCode}\n                            </Paper>\n                            ))\n                        }\n                        <button>Edit</button><button>Delete</button>\n                    </div>\n                </div>\n                <div className=\"admin-view\">\n                    <div className=\"promo-options\">\n                        {/* Adds a new Promotion */}\n                        <h1>Add a Promotion</h1>\n                        <div className=\"add-promo\">\n                            <form className=\"form\">\n                                <div className=\"input-group\">\n                                    <label htmlFor=\"name\">Promo Name</label>\n                                    <input type=\"text\" name=\"name\" placeholder=\"Promo Name\" value={name} onChange={(e)=>setName(e.target.value)} required/>\n                                </div>\n                                <div className=\"input-group\">\n                                    <label htmlFor=\"discount\">Promo Discount</label>\n                                    <input type=\"number\" min=\"0\" max=\"1\" step=\"0.01\" name=\"discount\" placeholder=\"e.g 0.25\" value={discount} onChange={(e)=>setDiscount(e.target.value)} required/>\n                                </div>\n                                <div className=\"input-group\">\n                                    <label htmlFor=\"code\">Promo Code</label>\n                                    <input type=\"text\" name=\"promoCode\" placeholder=\"PROMOCODE\" value={promoCode} onChange={(e)=>setPromoCode(e.target.value)} required/>\n                                </div>\n                                <p></p>\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleClick}>Submit</Button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    );\n}\n\n/*\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Name</th>\n                                    <th>Amount</th>\n                                    <th>Code</th>\n                                    <th>Status</th>\n                                    <th>Options</th>\n                                    </tr>\n                                    </thead>\n                                    {selectPromos.map(selectPromo=>\n                                    <tr key={selectPromo.promoID}>\n                                        <th>{selectPromo.name}</th>\n                                        <th>{selectPromo.discount}</th>\n                                        <th>{selectPromo.promoCode}</th>\n                                        {selectPromo.status === 0 && (\n                                        <th>Not Sent</th>\n                                        )}\n                                        {selectPromo.status === 1 && (\n                                        <th>Sent</th>\n                                        )\n                                        <th><button>Edit</button><button>Delete</button></th>\n                                    </tr>                                \n                                    )}    \n                                </table> \n\n*/"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}